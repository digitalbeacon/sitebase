if(typeof DigitalBeacon=="undefined"){DigitalBeacon={}}DigitalBeacon.ObjectExtensions=(function(){function a(){}return a})();DigitalBeacon.StringBuilder=(function(){function b(){this._parts=new Array(0)}var a=b.prototype;a.cat=function(c){this._parts.push(c);return this};a.build=function(){return this._parts.join("")};return b})();DigitalBeacon.StringUtils=(function(){function a(){}return a})();DigitalBeacon.StringUtils.DateRegex=new RegExp("\\/Date\\((\\-{0,1}\\d+)\\)\\/","gm");DigitalBeacon.StringUtils.formatWith=function(g,a,b,c,d,e){b=(b!==undefined)?b:null;c=(c!==undefined)?c:null;d=(d!==undefined)?d:null;e=(e!==undefined)?e:null;var k=g;var f=[a,b,c,d,e];if(b&&c&&d&&e){f.length=1}else{if(c&&d&&e){f.length=2}else{if(d&&e){f.length=3}else{if(e){f.length=4}}}}for(var h=0;h<f.length;h++){var j=new RegExp("\\{"+h+"\\}","gm");k=k.replace(j,""+f[h])}return k};DigitalBeacon.StringUtils.hasText=function(a){return $.trim(a).length>0};DigitalBeacon.StringUtils.isDateString=function(a){return DigitalBeacon.StringUtils.DateRegex.test(a)};DigitalBeacon.StringUtils.toDate=function(a){if(!a){return null}var b=a.replace(DigitalBeacon.StringUtils.DateRegex,"$1");if(b){return new Date(parseInt(b))}var c=Date.parse(a);return c!==NaN?new Date(c):null};DigitalBeacon.StringUtils.expandSiteRelativeText=function(b){var a=new RegExp('"~/',"gm");return DigitalBeacon.StringUtils.hasText(b)?b.replace(a,'"'+($.digitalbeacon.appContextPath==="/"?"":$.digitalbeacon.appContextPath)+"/"):b};DigitalBeacon.StringUtils.toSiteRelativeText=function(b){if($.digitalbeacon.appContextPath==="/"){return b}var a=new RegExp('"'+$.digitalbeacon.appContextPath+"/","gm");return(DigitalBeacon.StringUtils.hasText($.digitalbeacon.appContextPath)&&DigitalBeacon.StringUtils.hasText(b))?b.replace(a,'"~/'):b};DigitalBeacon.Utils=(function(){function a(){}return a})();DigitalBeacon.Utils.mergeParams=function(f,b){var c=null;var a=Object.keys(b).GetEnumerator();while(a.MoveNext()){c=a.get_Current();var d=new RegExp("({0})=([^\u0026]*)".formatWith(c),"gi");if(d.test(f)){f=f.replace(d,"$1="+b[c])}else{var e=new DigitalBeacon.StringBuilder();e.cat(f);if(f.indexOf("?")<0){e.cat("?")}else{e.cat("\u0026")}f=e.cat(c).cat("=").cat(encodeURIComponent(b[c])).build()}}return f};DigitalBeacon.Utils.isString=function(a){return $.digitalbeacon.isOfType(a,"string")};DigitalBeacon.Utils.isObject=function(a){return a!==null&&$.digitalbeacon.isOfType(a,"object")};DigitalBeacon.Utils.isDefined=function(a){return !$.digitalbeacon.isOfType(a,"undefined")};DigitalBeacon.Utils.convertDateStringsToDates=function(b,d){d=(d!==undefined)?d:0;if(!DigitalBeacon.Utils.isObject(b)){return b}var c=null;var a=Object.keys(b).GetEnumerator();while(a.MoveNext()){c=a.get_Current();if(!(b).hasOwnProperty(c)){continue}var e=b[c];if(DigitalBeacon.Utils.isString(e)&&DigitalBeacon.StringUtils.isDateString(e)){b[c]=DigitalBeacon.StringUtils.toDate(e)}else{if(e&&DigitalBeacon.Utils.isObject(e)&&d<10){DigitalBeacon.Utils.convertDateStringsToDates(e,d++)}}}return b};String.prototype.formatWith=function(a,b,c,d,e){var f=this;return DigitalBeacon.StringUtils.formatWith(f,a,b,c,d,e)};String.prototype.hasText=function(){var a=this;return DigitalBeacon.StringUtils.hasText(a)};String.prototype.toDate=function(){var a=this;return DigitalBeacon.StringUtils.toDate(a)};String.prototype.expandSiteRelativeText=function(){var a=this;return DigitalBeacon.StringUtils.expandSiteRelativeText(a)};String.prototype.toSiteRelativeText=function(){var a=this;return DigitalBeacon.StringUtils.toSiteRelativeText(a)};